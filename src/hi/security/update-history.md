# dv.net का अपडेट और सत्यापन

आपके ऑपरेटिंग सिस्टम के मानक पैकेज मैनेजर, जैसे `apt`, `yum`, या `dnf` का उपयोग करके `dv.net` को अपडेट करना सरल और सुरक्षित है।

## स्वचालित अपडेट सत्यापन

हर अपडेट के साथ, आपका पैकेज मैनेजर पैकेजों की **प्रामाणिकता को स्वचालित रूप से सत्यापित** करता है। यह हमारे सार्वजनिक GPG कुंजी का उपयोग करके किया जाता है, जो सुनिश्चित करता है कि आपको वास्तविक और अपरिवर्तित सॉफ़्टवेयर मिले। हस्ताक्षर की जांच के लिए आपको कोई मैन्युअल कार्रवाई करने की आवश्यकता नहीं है — `apt`, `yum`, और `dnf` यह आपके लिए कर देते हैं।

हमारी सार्वजनिक कुंजी यहाँ उपलब्ध है: <https://dv.net/gpg.pub>

------------------------------------------------------------------------

## अपडेट इतिहास देखना और जांचना

आप आसानी से सभी इंस्टॉल किए गए अपडेट का इतिहास देख सकते हैं और उनकी अखंडता सुनिश्चित कर सकते हैं।

### Debian / Ubuntu ( `apt` का उपयोग करते हुए) के लिए

अपडेट इतिहास लॉग फ़ाइलों में संग्रहीत होता है। आप इन्हें निम्नलिखित कमांड से देख सकते हैं:

``` bash
grep "upgrade dv.net" /var/log/dpkg.log
```

या अधिक विस्तृत `apt` इतिहास के लिए:

``` bash
grep "dv.net" /var/log/apt/history.log
```

ये लॉग दिखाते हैं कि `dv.net` पैकेज के कौन से संस्करण कब इंस्टॉल हुए। चूंकि `apt` इंस्टॉलेशन से पहले GPG हस्ताक्षर सत्यापित करता है, लॉग में एक रिकॉर्ड सफल अपडेट की पुष्टि करता है।

### CentOS / RHEL ( `yum` का उपयोग करते हुए) के लिए

`yum` लेन-देन इतिहास देखने का एक सुविधाजनक तरीका प्रदान करता है।

``` bash
yum history list dv.net
```

सूची में से किसी विशिष्ट अपडेट की विस्तृत जानकारी प्राप्त करने के लिए:

``` bash
yum history info <transaction_ID>
```

यह कमांड लेन-देन का विवरण दिखाएगी, जिसमें GPG कुंजी सत्यापन जानकारी भी शामिल है।

### Fedora और CentOS / RHEL के नए संस्करण ( `dnf` का उपयोग करते हुए) के लिए

इतिहास प्रबंधन के लिए `dnf` वही सिंटैक्स उपयोग करता है जो `yum` करता है।

``` bash
dnf history list dv.net
```

किसी विशिष्ट अपडेट की विस्तृत जानकारी प्राप्त करने के लिए:

``` bash
dnf history info <transaction_ID>
```

`yum` की तरह, `dnf` भी पूर्ण लेन-देन जानकारी दिखाएगा, जो इंस्टॉलेशन से पहले पैकेज के प्रामाणिकता जांच पास करने की पुष्टि करता है।

## सीधे डाउनलोड किए गए पैकेजों का सत्यापन

पैकेज इंस्टॉल होने के बाद भी आप उसकी अखंडता और प्रामाणिकता जांच सकते हैं। सभी डाउनलोड किए गए पैकेज अस्थायी रूप से पैकेज मैनेजर के कैश में संग्रहीत होते हैं, जहाँ उन्हें मैन्युअल रूप से सत्यापित किया जा सकता है। यह सुरक्षा ऑडिट या यह पुष्टि करने के लिए उपयोगी है कि पहले से इंस्टॉल की गई फ़ाइल खराब नहीं हुई थी।

## Debian / Ubuntu के लिए

डिफ़ॉल्ट रूप से, `APT` सफल इंस्टॉलेशन के बाद `.deb` फ़ाइलें हटा देता है। `APT` को हमेशा डाउनलोड किए गए पैकेज कैश में रखने के लिए, एक कॉन्फ़िगरेशन फ़ाइल बनाएं:

``` bash
echo 'APT::Keep-Downloaded-Packages "true";' | sudo tee /etc/apt/apt.conf.d/01keep-debs
```

सभी डाउनलोड किए गए पैकेज `/var/cache/apt/archives/` में संग्रहीत होंगे।

### विधि 1: GPG हस्ताक्षर सत्यापन (अनुशंसित)

सबसे विश्वसनीय तरीका पैकेज के GPG हस्ताक्षर की जांच करना है। यह पुष्टि करता है कि पैकेज हमारे द्वारा बनाया गया है और इसमें कोई छेड़छाड़ नहीं हुई है।

``` bash
# यदि यह यूटिलिटी अनुपस्थित है तो इसे इंस्टॉल करें
sudo apt-get install dpkg-sig

# किसी विशिष्ट पैकेज का हस्ताक्षर सत्यापित करें
dpkg-sig --verify /var/cache/apt/archives/dv-updater_*.deb
```

यदि जांच सफल होती है, तो आपको **GOODSIG** स्थिति दिखाई देगी, जो प्रामाणिकता दर्शाती है। ✅

### विधि 2: चेकसम सत्यापन

आप फ़ाइल की अखंडता को उसके चेकसम की तुलना रिपॉजिटरी मेटाडेटा में सूचीबद्ध चेकसम से करके भी जांच सकते हैं।

1.  `apt-cache` का उपयोग करके पैकेज का **आधिकारिक चेकसम** देखें:

    ``` bash
    apt-cache show dv-updater
    ```

    आउटपुट में **SHA256** वाली पंक्ति ढूंढें:

        Package: dv-updater
        Version: 0.0.11~RC01-nightly-20250717T220501Z
        Architecture: amd64
        Maintainer: dv-updater
        Installed-Size: 14500
        Filename: pool/main/d/dv-updater/dv-updater_0.0.11~RC01-nightly-20250717T220501Z_amd64.deb
        Size: 6025526
        SHA256: 2c60a10e0a55fb22903497280f78ab66e463e10a11b250c3147eb5672cd929bb
        Description: no description given

2.  डाउनलोड की गई फ़ाइल का **चेकसम गणना करें**:

    ``` bash
    sha256sum /var/cache/apt/archives/dv-updater_0.0.11~RC01-nightly-20250717T220501Z_amd64.deb
    ```

3.  **परिणामों की तुलना करें।** हैश आउटपुट बिल्कुल `apt-cache show` वाले से मेल खाना चाहिए।

------------------------------------------------------------------------

## CentOS / RHEL / Fedora के लिए

`dnf` और `yum` पैकेज मैनेजर डिफ़ॉल्ट रूप से डाउनलोड किए गए पैकेजों को कैश में संरक्षित रखते हैं। ये आमतौर पर `/var/cache/dnf/` के अंदर किसी उप-डायरेक्टरी में स्थित होते हैं।

### विधि 1: GPG हस्ताक्षर सत्यापन (अनुशंसित)

किसी डाउनलोड किए गए `.rpm` फ़ाइल के हस्ताक्षर की जांच के लिए मानक `rpm` यूटिलिटी का उपयोग करें। यह सबसे उचित और विश्वसनीय तरीका है।

``` bash
# कैश में पैकेज खोजें और उसे सत्यापित करें
rpm --checksig /var/cache/dnf/dvnet-*/packages/*.rpm
```

ध्यान दें: पथ आपके सिस्टम संस्करण के अनुसार थोड़ा भिन्न हो सकता है। सही डायरेक्टरी को स्वतः ढूँढने में `*` मदद करता है।

यदि हस्ताक्षर मान्य है, तो प्रत्येक जांचे गए पैकेज के लिए कमांड आउटपुट में `digests signatures OK` शामिल होगा।

### विधि 2: चेकसम सत्यापन

यह तरीका फ़ाइल की अखंडता जांचता है, लेकिन प्रामाणिकता नहीं।

1.  रिपॉजिटरी से पैकेज का **आधिकारिक चेकसम प्राप्त करें**:

    ``` bash
    dnf repoquery --info dv-processing
    ```

    या `yum` के लिए:

    ``` bash
    repoquery --info dv-processing
    ```

    आउटपुट में **Checksum** पंक्ति ढूंढें:

        Name         : dv-processing
        Version      : 0.6.6
        ...
        Checksum Type: sha256
        Checksum     : f019a9564433cacf7a1c307e9a358e43cb9a3325abcdef1234567890abcdef
        ...

2.  कैश्ड फ़ाइल के लिए **चेकसम गणना करें**:

    ``` bash
    sha256sum /var/cache/dnf/dvnet-*/packages/dv-processing_0.6.6_linux_amd64.rpm
    ```

3.  **दोनों मानों की तुलना करें।** ये बिल्कुल समान होने चाहिए।